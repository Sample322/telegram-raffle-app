{"ast":null,"code":"import React,{useState}from'react';import{toast}from'react-hot-toast';import{TrashIcon,EyeIcon}from'@heroicons/react/24/outline';import api from'../../services/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CompletedRafflesList=_ref=>{let{raffles,onUpdate}=_ref;const[loading,setLoading]=useState({});const handleDelete=async id=>{if(!window.confirm('Удалить завершённый розыгрыш?'))return;setLoading(prev=>({...prev,[id]:true}));try{await api.delete(`/admin/raffles/${id}`);toast.success('Удалён');onUpdate&&onUpdate();}catch{toast.error('Ошибка удаления');}finally{setLoading(prev=>({...prev,[id]:false}));}};if(!raffles.length){return/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 text-center py-8\",children:\"\\u041D\\u0435\\u0442 \\u0437\\u0430\\u0432\\u0435\\u0440\\u0448\\u0451\\u043D\\u043D\\u044B\\u0445 \\u0440\\u043E\\u0437\\u044B\\u0433\\u0440\\u044B\\u0448\\u0435\\u0439\"});}return/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:raffles.map(r=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow p-6 flex justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold text-lg\",children:r.title}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600\",children:[\"\\u0417\\u0430\\u0432\\u0435\\u0440\\u0448\\u0451\\u043D: \",new Date(r.end_date).toLocaleString('ru-RU')]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsx(\"a\",{href:`/raffle/${r.id}/history`,className:\"p-2 text-blue-600 hover:bg-blue-50 rounded-lg\",title:\"\\u0421\\u043C\\u043E\\u0442\\u0440\\u0435\\u0442\\u044C\",target:\"_blank\",rel:\"noopener noreferrer\",children:/*#__PURE__*/_jsx(EyeIcon,{className:\"h-5 w-5\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDelete(r.id),disabled:loading[r.id],className:\"p-2 text-red-600 hover:bg-red-50 rounded-lg disabled:opacity-50\",title:\"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\",children:/*#__PURE__*/_jsx(TrashIcon,{className:\"h-5 w-5\"})})]})]},r.id))});};export default CompletedRafflesList;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}